<!DOCTYPE HTML>




<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Person.questionnaire - FHIR v0.4.0</title>

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="author" content="http://hl7.org/fhir"/>

  <link href="fhir.css" rel="stylesheet"/>
  <link rel="Prev" href="http://hl7.org/implement/standards/fhir/person.questionnaire.html"/>

  <!-- Bootstrap core CSS -->
  <link href="./dist/css/bootstrap.css" rel="stylesheet"/>
  <link href="./assets/css/bootstrap-fhir.css" rel="stylesheet"/>

  <!-- Project extras -->
  <link href="./assets/css/project.css" rel="stylesheet"/>
  <link href="./assets/css/pygments-manni.css" rel="stylesheet"/>
	<link href="jquery-ui.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="./assets/js/html5shiv.js"></script>
  <script src="./assets/js/respond.min.js"></script>
  <![endif]-->

  <!-- Favicons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="./assets/ico/apple-touch-icon-144-precomposed.png"/>
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="./assets/ico/apple-touch-icon-114-precomposed.png"/>
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="./assets/ico/apple-touch-icon-72-precomposed.png"/>
  <link rel="apple-touch-icon-precomposed" href="./assets/ico/apple-touch-icon-57-precomposed.png"/>
  <link rel="shortcut icon" href="./assets/ico/favicon.png"/>

</head>
<body>
	<div id="segment-header" class="segment"><!-- segment-header -->	
		<div class="container"><!-- container -->
			<a id="logo" href="http://hl7.org/fhir"><img src="./assets/images/fhir-logo-www.png" alt="logo fhir"/> </a>
			<div id="hl7-status">
				<b>Continuous Integration Build</b>
			</div>       	
			
			<div id="hl7-nav">
				 <a id="hl7-logo" href="http://www.hl7.org">
					<img src="./assets/images/hl7-logo.png" width="42" height="50" alt="visit the hl7 website"/>
				</a> 
			</div>       	
			<!--hl7-search-->
		</div>
		<div class="container"><!-- container -->
	</div></div><!-- /segment-header -->	


	<div id="segment-navbar" class="segment"><!-- segment-navbar -->
		<div id="stripe"> </div>
		<div class="container"><!-- container -->
 <!-- HEADER CONTENT -->
 	      		
 	      		      		
			<nav class="navbar navbar-inverse">
				<div class="container">
					<button data-target=".navbar-inverse-collapse" data-toggle="collapse" class="navbar-toggle" type="button">
						<span class="icon-bar"> </span>
						<span class="icon-bar"> </span>
						<span class="icon-bar"> </span>
					</button>
					<a href="index.html" class="navbar-brand hidden">FHIR</a>
					<div class="nav-collapse collapse navbar-inverse-collapse">
						<ul class="nav navbar-nav">
              <li><a href="index.html">Home</a></li>
              <li><a href="documentation.html">Documentation</a></li>
              <li><a href="implementation.html">Implementation</a></li>
              <li><a href="resourcelist.html">Resources</a></li>
              <li><a href="clinical.html">Clinical</a></li>
              <li><a href="administration.html">Administrative</a></li>
              <li><a href="infrastructure.html">Infrastructure</a></li>
              <li><a href="financial.html">Financial</a></li>

						</ul>
					</div><!-- /.nav-collapse -->
				</div><!-- /.container -->
			</nav><!-- /.navbar -->
      		
				
<!-- /HEADER CONTENT -->				
		</div><!-- /container -->
	</div><!-- /segment-navbar -->
	

	<div id="segment-breadcrumb" class="segment"><!-- segment-breadcrumb -->
		<div class="container"><!-- container -->	
			<ul class="breadcrumb">
        <li><a href="index.html">Home</a></li>
        <li><a href="administration.html">Administrative</a></li>        <li><a href="person.html">Person</a></li>        <li><b>Generated Questionnaire</b></li>        <!-- person.questionnaire.html / resource-questionnaire:Person -->

			</ul>	
		</div><!-- /container -->
	</div><!-- /segment-breadcrumb -->
	

	<div id="segment-content" class="segment"><!-- segment-content -->
	<div class="container"><!-- container -->
            <div class="row">
            	<div class="inner-wrapper">
<!-- CONTENT CONTENT -->


<div class="col-9">

<h1>Person.questionnaire</h1>

<p>

This is an example form generated from the questionnaire. See also the <a href="person.questionnaire.xml.html">XML</a> or <a href="person.questionnaire.json.html">JSON</a> format.
</p>

<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml">
   <head>
  <title>Person.questionnaire - FHIR v0.4.0</title>

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="author" content="http://hl7.org/fhir"/>

  <link href="fhir.css" rel="stylesheet"/>
  <link rel="Prev" href="http://hl7.org/implement/standards/fhir/person.questionnaire.html"/>

  <!-- Bootstrap core CSS -->
  <link href="./dist/css/bootstrap.css" rel="stylesheet"/>
  <link href="./assets/css/bootstrap-fhir.css" rel="stylesheet"/>

  <!-- Project extras -->
  <link href="./assets/css/project.css" rel="stylesheet"/>
  <link href="./assets/css/pygments-manni.css" rel="stylesheet"/>
	<link href="jquery-ui.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="./assets/js/html5shiv.js"></script>
  <script src="./assets/js/respond.min.js"></script>
  <![endif]-->

  <!-- Favicons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="./assets/ico/apple-touch-icon-144-precomposed.png"/>
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="./assets/ico/apple-touch-icon-114-precomposed.png"/>
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="./assets/ico/apple-touch-icon-72-precomposed.png"/>
  <link rel="apple-touch-icon-precomposed" href="./assets/ico/apple-touch-icon-57-precomposed.png"/>
  <link rel="shortcut icon" href="./assets/ico/favicon.png"/>

<script type="text/javascript"><!--
var questionnaireAnswers = null;
var questionnaireAnswersId = null;
var questionnaireAnswersVersion = null;
var questionnaireAnswersEndpoint = null;

function validatePerson(node) {
  var groupNodes = findDiv(node, "Person");
  if (groupNodes.length < 1) {
showError();
    node.focus()
    alert('Must have at least 1 occurrences of: A generic person record');
    return false
  } else {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_id(divNode, "Person.id")
         && validatePerson_meta(divNode, "Person.meta")
         && validatePerson_implicitRules(divNode, "Person.implicitRules")
         && validatePerson_language(divNode, "Person.language")
         && validatePerson_text(divNode, "Person.text")
         && validatePerson_contained(divNode, "Person.contained")
         && validatePerson_identifier(divNode, "Person.identifier")
         && validatePerson_name(divNode, "Person.name")
         && validatePerson_telecom(divNode, "Person.telecom")
         && validatePerson_gender(divNode, "Person.gender")
         && validatePerson_birthDate(divNode, "Person.birthDate")
         && validatePerson_address(divNode, "Person.address")
         && validatePerson_photo(divNode, "Person.photo")
         && validatePerson_managingOrganization(divNode, "Person.managingOrganization")
         && validatePerson_active(divNode, "Person.active")
         && validatePerson_link(divNode, "Person.link");
    }
    return valid;
  }
}


function validatePerson_id(node) {
  var groupNodes = findDiv(node, "Person.id");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_id_value(divNode, "Person.id.value");
    }
    return valid;
  }
}


function validatePerson_id_value(node) {
  var answerNodes = findAnswers(node, "Person.id.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_meta(node) {
  var groupNodes = findDiv(node, "Person.meta");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_meta_id(divNode, "Person.meta.id")
         && validatePerson_meta_versionId(divNode, "Person.meta.versionId")
         && validatePerson_meta_lastUpdated(divNode, "Person.meta.lastUpdated")
         && validatePerson_meta_profile(divNode, "Person.meta.profile")
         && validatePerson_meta_security(divNode, "Person.meta.security")
         && validatePerson_meta_tag(divNode, "Person.meta.tag");
    }
    return valid;
  }
}


function validatePerson_meta_id(node) {
  var groupNodes = findDiv(node, "Person.meta.id");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_meta_id_value(divNode, "Person.meta.id.value");
    }
    return valid;
  }
}


function validatePerson_meta_id_value(node) {
  var answerNodes = findAnswers(node, "Person.meta.id.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_meta_versionId(node) {
  var groupNodes = findDiv(node, "Person.meta.versionId");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_meta_versionId_value(divNode, "Person.meta.versionId.value");
    }
    return valid;
  }
}


function validatePerson_meta_versionId_value(node) {
  var answerNodes = findAnswers(node, "Person.meta.versionId.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_meta_lastUpdated(node) {
  var groupNodes = findDiv(node, "Person.meta.lastUpdated");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_meta_lastUpdated_value(divNode, "Person.meta.lastUpdated.value");
    }
    return valid;
  }
}


function validatePerson_meta_lastUpdated_value(node) {
  var answerNodes = findAnswers(node, "Person.meta.lastUpdated.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_meta_profile(node) {
  var groupNodes = findDiv(node, "Person.meta.profile");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_meta_profile_value(divNode, "Person.meta.profile.value");
    }
    return valid;
  }
}


function validatePerson_meta_profile_value(node) {
  var answerNodes = findAnswers(node, "Person.meta.profile.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_meta_security(node) {
  var groupNodes = findDiv(node, "Person.meta.security");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_meta_security_value(divNode, "Person.meta.security.value");
    }
    return valid;
  }
}


function validatePerson_meta_security_value(node) {
  var answerNodes = findAnswers(node, "Person.meta.security.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_meta_tag(node) {
  var groupNodes = findDiv(node, "Person.meta.tag");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_meta_tag_value(divNode, "Person.meta.tag.value");
    }
    return valid;
  }
}


function validatePerson_meta_tag_value(node) {
  var answerNodes = findAnswers(node, "Person.meta.tag.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_implicitRules(node) {
  var groupNodes = findDiv(node, "Person.implicitRules");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_implicitRules_value(divNode, "Person.implicitRules.value");
    }
    return valid;
  }
}


function validatePerson_implicitRules_value(node) {
  var answerNodes = findAnswers(node, "Person.implicitRules.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_language(node) {
  var groupNodes = findDiv(node, "Person.language");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_language_value(divNode, "Person.language.value");
    }
    return valid;
  }
}


function validatePerson_language_value(node) {
  var answerNodes = findAnswers(node, "Person.language.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_text(node) {
  var groupNodes = findDiv(node, "Person.text");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid =;
    }
    return valid;
  }
}


function validatePerson_contained(node) {
  var groupNodes = findDiv(node, "Person.contained");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid =;
    }
    return valid;
  }
}


function validatePerson_identifier(node) {
  var groupNodes = findDiv(node, "Person.identifier");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_identifier_label(divNode, "Person.identifier.label")
         && validatePerson_identifier_system(divNode, "Person.identifier.system")
         && validatePerson_identifier_value(divNode, "Person.identifier.value");
    }
    return valid;
  }
}


function validatePerson_identifier_label(node) {
  var answerNodes = findAnswers(node, "Person.identifier.label");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_identifier_system(node) {
  var answerNodes = findAnswers(node, "Person.identifier.system");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_identifier_value(node) {
  var answerNodes = findAnswers(node, "Person.identifier.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_name(node) {
  var groupNodes = findDiv(node, "Person.name");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_name_text(divNode, "Person.name.text")
         && validatePerson_name_family(divNode, "Person.name.family")
         && validatePerson_name_given(divNode, "Person.name.given");
    }
    return valid;
  }
}


function validatePerson_name_text(node) {
  var answerNodes = findAnswers(node, "Person.name.text");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_name_family(node) {
  var answerNodes = findAnswers(node, "Person.name.family");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_name_given(node) {
  var answerNodes = findAnswers(node, "Person.name.given");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_telecom(node) {
  var groupNodes = findDiv(node, "Person.telecom");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_telecom_system(divNode, "Person.telecom.system")
         && validatePerson_telecom_value(divNode, "Person.telecom.value")
         && validatePerson_telecom_use(divNode, "Person.telecom.use");
    }
    return valid;
  }
}


function validatePerson_telecom_system(node) {
  var answerNodes = findAnswers(node, "Person.telecom.system");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_telecom_value(node) {
  var answerNodes = findAnswers(node, "Person.telecom.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_telecom_use(node) {
  var answerNodes = findAnswers(node, "Person.telecom.use");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_gender(node) {
  var groupNodes = findDiv(node, "Person.gender");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_gender_value(divNode, "Person.gender.value");
    }
    return valid;
  }
}


function validatePerson_gender_value(node) {
  var answerNodes = findAnswers(node, "Person.gender.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_birthDate(node) {
  var groupNodes = findDiv(node, "Person.birthDate");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_birthDate_value(divNode, "Person.birthDate.value");
    }
    return valid;
  }
}


function validatePerson_birthDate_value(node) {
  var answerNodes = findAnswers(node, "Person.birthDate.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_address(node) {
  var groupNodes = findDiv(node, "Person.address");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_address_text(divNode, "Person.address.text")
         && validatePerson_address_line(divNode, "Person.address.line")
         && validatePerson_address_city(divNode, "Person.address.city")
         && validatePerson_address_state(divNode, "Person.address.state")
         && validatePerson_address_postalCode(divNode, "Person.address.postalCode")
         && validatePerson_address_country(divNode, "Person.address.country")
         && validatePerson_address_use(divNode, "Person.address.use");
    }
    return valid;
  }
}


function validatePerson_address_text(node) {
  var answerNodes = findAnswers(node, "Person.address.text");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_address_line(node) {
  var answerNodes = findAnswers(node, "Person.address.line");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_address_city(node) {
  var answerNodes = findAnswers(node, "Person.address.city");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_address_state(node) {
  var answerNodes = findAnswers(node, "Person.address.state");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_address_postalCode(node) {
  var answerNodes = findAnswers(node, "Person.address.postalCode");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_address_country(node) {
  var answerNodes = findAnswers(node, "Person.address.country");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_address_use(node) {
  var answerNodes = findAnswers(node, "Person.address.use");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_photo(node) {
  var groupNodes = findDiv(node, "Person.photo");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid =;
    }
    return valid;
  }
}


function validatePerson_managingOrganization(node) {
  var groupNodes = findDiv(node, "Person.managingOrganization");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_managingOrganization_value(divNode, "Person.managingOrganization.value");
    }
    return valid;
  }
}


function validatePerson_managingOrganization_value(node) {
  var answerNodes = findAnswers(node, "Person.managingOrganization.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_active(node) {
  var groupNodes = findDiv(node, "Person.active");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_active_value(divNode, "Person.active.value");
    }
    return valid;
  }
}


function validatePerson_active_value(node) {
  var answerNodes = findAnswers(node, "Person.active.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_link(node) {
  var groupNodes = findDiv(node, "Person.link");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_link_id(divNode, "Person.link.id")
         && validatePerson_link_other(divNode, "Person.link.other")
         && validatePerson_link_assurance(divNode, "Person.link.assurance");
    }
    return valid;
  }
}


function validatePerson_link_id(node) {
  var groupNodes = findDiv(node, "Person.link.id");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_link_id_value(divNode, "Person.link.id.value");
    }
    return valid;
  }
}


function validatePerson_link_id_value(node) {
  var answerNodes = findAnswers(node, "Person.link.id.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_link_other(node) {
  var groupNodes = findDiv(node, "Person.link.other");
  if (groupNodes.length < 1) {
showError();
    node.focus()
    alert('Must have at least 1 occurrences of: The resource to which this actual person is associated');
    return false
  } else {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_link_other__type(divNode, "Person.link.other._type");
    }
    return valid;
  }
}


function validatePerson_link_other__type(node) {
  var answerNodes = findAnswers(node, "Person.link.other._type");
  if (answerNodes != null) {
    var groupNodes = findDiv(node, "Person.link.other._type");
    return validatePerson_link_other__Patient(node, "Person.link.other._Patient")
         && validatePerson_link_other__Practitioner(node, "Person.link.other._Practitioner")
         && validatePerson_link_other__RelatedPerson(node, "Person.link.other._RelatedPerson")
         && validatePerson_link_other__Person(node, "Person.link.other._Person");
  }
}


function validatePerson_link_other__Patient(node) {
  var groupNodes = findDiv(node, "Person.link.other._Patient");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_link_other__Patient_value(divNode, "Person.link.other._Patient.value");
    }
    return valid;
  }
}


function validatePerson_link_other__Patient_value(node) {
  var answerNodes = findAnswers(node, "Person.link.other._Patient.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_link_other__Practitioner(node) {
  var groupNodes = findDiv(node, "Person.link.other._Practitioner");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_link_other__Practitioner_value(divNode, "Person.link.other._Practitioner.value");
    }
    return valid;
  }
}


function validatePerson_link_other__Practitioner_value(node) {
  var answerNodes = findAnswers(node, "Person.link.other._Practitioner.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_link_other__RelatedPerson(node) {
  var groupNodes = findDiv(node, "Person.link.other._RelatedPerson");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_link_other__RelatedPerson_value(divNode, "Person.link.other._RelatedPerson.value");
    }
    return valid;
  }
}


function validatePerson_link_other__RelatedPerson_value(node) {
  var answerNodes = findAnswers(node, "Person.link.other._RelatedPerson.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_link_other__Person(node) {
  var groupNodes = findDiv(node, "Person.link.other._Person");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_link_other__Person_value(divNode, "Person.link.other._Person.value");
    }
    return valid;
  }
}


function validatePerson_link_other__Person_value(node) {
  var answerNodes = findAnswers(node, "Person.link.other._Person.value");
  if (answerNodes != null) {
    return true;
  }
}

function validatePerson_link_assurance(node) {
  var groupNodes = findDiv(node, "Person.link.assurance");
  if (groupNodes != null) {
    var valid = true;
    for (var i=0; i<groupNodes.length && valid; i++) {
      var divNode = groupNodes[i];
      valid = validatePerson_link_assurance_value(divNode, "Person.link.assurance.value");
    }
    return valid;
  }
}


function validatePerson_link_assurance_value(node) {
  var answerNodes = findAnswers(node, "Person.link.assurance.value");
  if (answerNodes != null) {
    return true;
  }
}
function validateQuestionnaire() {
  return validatePerson(document.getElementById("div-cnt"));
}

function populateQuestionnaire() {
  return null;
}

function parseQuestionnaire() {
}

--></script>
      <script type="text/javascript"
              src="http://fhir-dev.healthintersections.com.au/js/json2.js"> </script>
      <script type="text/javascript"
              src="http://fhir-dev.healthintersections.com.au/js/statuspage.js"> </script>
      <script type="text/javascript"
              src="http://fhir-dev.healthintersections.com.au/js/jquery-1.6.2.min.js"> </script>
      <script type="text/javascript"
              src="http://fhir-dev.healthintersections.com.au/js/jquery-ui-1.8.16.custom.min.js"> </script>
      <script type="text/javascript"
              src="http://fhir-dev.healthintersections.com.au/js/jquery-1.6.2.js"> </script>
      <script type="text/javascript"
              src="http://fhir-dev.healthintersections.com.au/js/jquery.ui.core.js"> </script>
      <script type="text/javascript"
              src="http://fhir-dev.healthintersections.com.au/js/jquery.ui.widget.js"> </script>
      <script type="text/javascript"
              src="http://fhir-dev.healthintersections.com.au/js/jquery.ui.mouse.js"> </script>
      <script type="text/javascript"
              src="http://fhir-dev.healthintersections.com.au/js/jquery.ui.resizable.js"> </script>
      <script type="text/javascript"
              src="http://fhir-dev.healthintersections.com.au/js/jquery.ui.draggable.js"> </script>
      <script type="text/javascript"
              src="http://fhir-dev.healthintersections.com.au/js/jtip.js"> </script>
      <script type="text/javascript"
              src="http://fhir-dev.healthintersections.com.au/js/jcookie.js"> </script>
      <script type="text/javascript"
              src="http://fhir-dev.healthintersections.com.au/js/hl7connect.js"> </script>
      <script type="text/javascript"><!--
var expansionUri = "http://fhir-dev.healthintersections.com.au/open"
var removeGroupButton = "<input type=\"image\" alt=\"Remove\" onclick=\"deleteRow(this)\" style=\"width:10px;height:10px\" src=\"http://fhir-dev.healthintersections.com.au/html-form-delete.png\"/>";var removeInputButton = "<input type=\"image\" alt=\"Remove\" onclick=\"deleteInput(this)\" style=\"width:10px;height:10px\" src=\"http://fhir-dev.healthintersections.com.au/html-form-delete.png\"/>";
--></script>
      <script type="text/javascript"><!--
var removeButton = '<input type="image" onclick="deleteRow(this)" src="http://fhir-dev.healthintersections.com.au/html-form-delete.png" alt="Remove" style="width:10px;height:10px;"/>'

function findDiv(node, linkId) {
  return $(node).children("div").filter(function() {
    return $(this).children("span:first-child").text() == linkId;
  });
}

function answerCell(node, linkId) {
  var answerRows = $(node).children("table").children("tbody").children("tr").filter(function() {
    return $(this).children("td:first-child").children("span:first-child").text() === linkId;
  });
  if (answerRows.length == 0) {
    alert("Unable to find question row: " + linkId);
    return null;
  }
  if (answerRows.length != 1) {
    alert("Multiple question rows for: " + linkId);
    return null;
  }
  
  return inputCell = answerRows[0].cells[1];
}

function answerType(inputCell) {
  if ($(inputCell).children("input:radio").length > 0)
    return "radio"
    
  else if ($(inputCell).children("input:checkbox").length > 0)
    return "checkbox"
    
  else if ($(inputCell).children("select").length > 0) {
    var options = $(inputCell).children("select").children("option");
    if (options.count!=3
     || $(options[0]).val() != ''
     || $(options[1]).val() != 'true'
     || $(options[2]).val() != 'false'
     || $(options[0]).text() != ''
     || $(options[1]).text() != 'Yes'
     || $(options[2]).text() != 'No')
      return "select"
    else
      return "boolean"
  
  } else if ($(inputCell).children("table").length > 0)
    if ($(inputCell).children("table").children("colgroup").children("col:last-child",[span='2']).length > 0)
      return "coding"
 
    else if ($(inputCell).children("table").children("colgroup").children("col").length == 3)
      return "reference"
    
    else if ($(inputCell).children("input:text").length > 0)
      return "repeating-text"
  
    else if ($(inputCell).children("textarea").length > 0)
      return "repeating-textarea"
    
    else alert("Unknown repeating type")
  
  else if ($(inputCell).children("input:text").length > 0)
    return "text"

  else if ($(inputCell).children("textarea").length > 0)
    return "textarea"
    
  else if ($(inputCell).children("*:input").length == 0)
    return "none"
    
  else alert("Unknown type");
}

function findAnswers(node, linkId, lookupArray, isNumber) {
  var inputCell = answerCell(node, linkId);

  if (inputCell == null) return null;
  
  var inputType = answerType(inputCell);
  
  var answerCount = 0;
  var answers = [];
  
  switch (inputType) {
    case "radio":
    case "checkbox":
      $(inputCell).children(":checked").each(function() {
        var value = $(this).val();
        if (lookupArray) {
          var coding = $.grep(lookupArray, function(aCoding){ return aCoding.code == value; });
          if (coding)
            answers.push(coding);
          
        } else
          answers.push(value);
      });
      break;
      
    case "boolean":
      if ($(inputCell).children("input:checkbox", ":checked").length!=0)
        answers.push('true')
      else
        answers.push('false');
      break;
    
    case "select":
      $(inputCell).children("select").children("option:selected").each(function() {
        var value = $(this).val();
        if (value != "") {
          if (lookupArray) {
            var coding = $.grep(lookupArray, function(aCoding){ return aCoding.display == value; });
            if (coding)
              answers.push(coding);
            
          } else
            answers.push(value);
        }
      });
      break;

    case "coding":
      $(inputCell).children("table").children("tbody").children("tr").each(function() {
        var coding = {
          "system": this.cells[2].textContent,
          "code": this.cells[3].textContent,
          "display": this.cells[1].textContent
        }
        answers.push(coding);
      });
      break;
      
    case "reference":
      $(inputCell).children("table").children("tbody").children("tr").each(function() {
        var reference = {
          "reference": this.cells[2].textContent,
          "display": this.cells[1].textContent
        }
        answers.push(reference);
      });
      break;
      
    case "repeating-text":
    case "repeating-textarea":
      $(inputCell).children("table").children("tbody").children("tr").each(function() {
        var value = $(this).children("td:last-child").children("input:visible").val();
        if (value != "") {
          if (isNumber)
            answers.push(value.toNumber())
          else
            answers.push(value);
        }
      });
      break;
      
    case "text":
    case "textarea":
      $(inputCell).children("input:visible").each(function() {
        var value = $(this).val();
        if (value != "") {
          if (isNumber)
            answers.push(value.toNumber())
          else
            answers.push(value);
        }
      });
      break;
      
    case "none":
  }
  
  return answers;
}

function loadAnswers() {
  if (questionnaireAnswers == null) {
    questionnaireAnswers =
    {
      "resourceType": "QuestionnaireAnswers",
      "text": {
        "status": "generated",
        "div": null
      },
      // "questionnaire": TODO,
      "status": "draft",
      // "subject": TODO,
      // "author": TODO,
      "authored": "2001-01-01T00:00:00",
      // "encounter": TODO,
      "group": null
    }
  } else {
    populateQuestionnaire();
  }
}

function currentTime() {
  var now = new Date();
  return now.getYear + "-" + padTime(now.getMonth) + "-" + padTime(now.getDay) + "T" + padTime(now.getHours) + ':' + padTime(now.getMinutes) + ':' + padTime(now.getSeconds);
}

function padTime(num) {
  if (num < 10)
    return "0" + num
  else
    return num;
}

function saveDraft() {
  parseQuestionnaire();
  questionnaireAnswers.status = "draft"
  questionnaireAnswers.authored = currentTime();
  saveQuestionnaire(questionnaireAnswers);
}

function saveFinal() {
  if (validateQuestionnaire()) {
    parseQuestionnaire();
    if (questionnaireAnswers.status == "completed")
      questionnaireAnswers.status = "amended"
     else
      questionnaireAnswers.status = "completed";
    questionnaireAnswers.authored = currentTime();
    saveQuestionnaire();
  }
}

function saveQuestionnaire() {
  // Todo: save stuff
}

function showError() {
  alert('Error');
}
--></script>
      <script type="text/javascript"><!--
var fhirValuesetUrl = null;
var fhirCodeMax = null;
var fhirCodeExtensible = null;
var fhirCodeSourceTable = null;

var selectedSystem = "";
var selectedCode = "";
var selectedDisplay = "";
var selectedDefinition = "";

var selectionTable;
var codes;
var addButton;
var doneButton;
var codeSelection;


function combo(id,h,l) 
{
  var self = this; 
  self.h = h; 
  self.l = l; 
  self.inp = document.getElementById(id); 
  self.hasfocus = false; 
  self.sel = -1; 
  self.ul = self.inp.nextSibling; 
  while (self.ul.nodeType == 3) 
    self.ul = self.ul.nextSibling; 
  self.ul.onmouseover = function() {
    self.ul.className = '';
  }; 
  self.ul.onmouseout = function() {
    self.ul.className = 'focused'; 
    if (!self.hasfocus) 
      self.ul.style.display = 'none';
  }; 
  self.list = self.ul.getElementsByTagName('li'); 
  selectedSystem = ""
  selectedCode = ""
  selectedDisplay = ""
  selectedDefinition = ""
  for (var i=self.list.length - 1; i >= 0; i=i-1) {
    self.list[i].onclick = function() {
      if (this.id != null) {
        self.inp.value = this.firstChild.data;  
        for (var i = 0; i < codes.length; i++) {
          if (codes[i].system+"||"+codes[i].code == this.id) {
            selectedSystem = codes[i].system;
            selectedCode = codes[i].code;
            selectedDisplay = codes[i].display;
            currentCodeDefinition = ""
            if (codes[i].extension != null) {
              for (var j = 0; j < codes[i].extension.length; j++) {
                if (codes[i].extension[j].url == "http:\/\/hl7.org\/fhir\/Profile\/tools-extensions#definition")
                  selectedDefinition = codes[i].extension[j].valueString;
              }
            }
            checkMaxCodeRows()
          }
        }        
        self.rset(self);
      }
    }
  } 
  self.inp.onfocus = function() {
    self.ul.style.display = 'block'; 
    self.ul.className = 'focused'; 
    self.hasfocus = true; 
    self.sel = -1;
  }; 
  self.inp.onblur = function() {
    if (self.ul.className=='focused') {
      self.rset(self);
    } 
    self.ul.className = ''; 
    self.hasfocus = false;
  }; 
  self.inp.onkeyup = function(e) {
    var k = (e)? e.keyCode : event.keyCode; 
    if (k == 40 || k == 13) {
      if (self.sel == self.list.length-1) {
        self.list[self.sel].style.backgroundColor = self.l; 
        self.sel = -1;
      } 
      if (self.sel > -1)
        self.list[self.sel].style.backgroundColor = self.l; 
      self.inp.value = self.list[++self.sel].firstChild.data; 
      self.list[self.sel].style.backgroundColor = self.h;
    } 
    else if (k == 38 && self.sel > 0) {
      self.list[self.sel].style.backgroundColor = self.l;
      self.sel = self.sel -1
      self.inp.value = self.list[self.sel].firstChild.data; 
      self.list[self.sel].style.backgroundColor = self.h;
    }
    return false;
  };
} 
  
combo.prototype.rset = function(self) {
  self.ul.style.display = 'none'; 
  self.sel = -1; 
  for (var i=self.list.length - 1; i >= 0; i=i-1) {
    self.list[i].style.backgroundColor = self.l;
  }  
  return false;
};

function codeBuildForm()
{
  var d = document.getElementById("fhir-code-form");
  if (d == null)
  {
    d = document.createElement("div");
    d.id = "fhir-code-form";
  }

  d.innerHTML = "<span id=\"fhir-code-label\">Code:</span><table><tbody><tr><td class=\"combo\"><input id=\"fhir-code-input\" type=\"text\" name=\"codeChoice\" title=\"Type text to filter list\" size=\"100%\" onInput=\"reload(this)\"/>"+
                "<ul id=\"fhir-code-ul\" style=\"display:none;\" class=\"\"></ul></td><td><button id=\"fhir-code-select\" onClick='addRow()' style=\"display:none;\">Add</button></td></tr><tr><td>"+
                "<button id=\"fhir-code-commit\" onClick='commitCodes()' style=\"display:none;\">Apply</button></td><td>"+
                "<button onClick='closeCodeSelect()'>Cancel</button></td></tr></tbody></table><div id=\"fhir-code-selections\"/>";
  d.className = "fhir-code-form";
	document.getElementById("div-cnt").appendChild(d);
  $('.fhir-code-form').css('left', fhirCodeSourceTable.offsetLeft+fhirCodeSourceTable.offsetWidth);
  $('.fhir-code-form').css('top', fhirCodeSourceTable.offsetTop+fhirCodeSourceTable.offsetHeight);
}

function initCodeLookup(valueset, sourceTable, extensible, max) {
  fhirValuesetUrl = valueset;
  fhirCodeMax = max;
  fhirCodeExtensible = extensible;
  fhirCodeSourceTable = sourceTable

  codeBuildForm();

  var inputLabel = document.getElementById("fhir-code-label");
  var targetDiv = document.getElementById("fhir-code-selections");
  codeSelection = document.getElementById("fhir-code-input");
  addButton = document.getElementById("fhir-code-select");
  doneButton = document.getElementById("fhir-code-commit");

  if (max==1) {
    targetDiv.style.display="none";
    addButton.style.display = "none";
    if (extensible)
      inputLabel.innerHTML="Select code/Enter value:"
    else
      inputLabel.innerHTML="Select code:";

  } else {
    targetDiv.style.display="inherit";
    addButton.style.display = "inherit";
    if (extensible)
      inputLabel.innerHTML="Select code(s)/Enter value(s):"
    else
      inputLabel.innerHTML="Select code(s):";
  }
  if (targetDiv.table)
    targetDiv.removeChild(targetDiv.table);

  selectionTable = sourceTable.cloneNode(true);
  targetDiv.appendChild(selectionTable);

  for (var i = 0; i < selectionTable.rows.length; i++) {
    setRowId(selectionTable.rows[i])
  }

  checkMaxCodeRows()

  load();
}

function reload(edit) {
  getCodes(fhirValuesetUrl, edit.value);
  checkMaxCodeRows()
}

function load() {
  new combo('fhir-code-input','#9c9','#fff');
  getCodes(fhirValuesetUrl, "");
}

function processExpansion(data)
{
  var source = "";
//  codes = data.entry[0].content.expansion.contains;
  codes = data.expansion.contains;
  if (codes != null) {
    for (var i = 0; i < codes.length; i++) {
      var definition = ""
      if (codes[i].extension != null) {
        for (var j = 0; j < codes[i].extension.length; j++) {
          if (codes[i].extension[j].url == "http:\/\/hl7.org\/fhir\/Profile\/tools-extensions#definition")
            definition = codes[i].extension[j].valueString;
        }
      }
      source = source + "<li id=\""+codes[i].system+"||"+codes[i].code+"\" title=\""+definition+"\">"+codes[i].display+"</li>";
    }
  }
  document.getElementById("fhir-code-ul").innerHTML = source;  
  new combo('fhir-code-input','#9c9','#fff'); 
}

function processNarrative(narr) {
  var s = narr.indexOf(">");
  var e = narr.lastIndexOf("<");
  return narr.substring(s+1, e-1);
}

function getCodes(id, text)
{
    try
    {
      var uri = expansionUri+"/ValueSet/$expand?_format=json&identifier="+id+"&filter="+text;
      $.ajax({
        url: uri,
        cache: false,
        dataType: "json",
        success: function(data){
          processExpansion(data);
        },
        error: function(jqXHR, textStatus, errorThrown){
          try {
            var oo = jQuery.parseJSON(jqXHR.responseText);
            document.getElementById("fhir-code-ul").innerHTML = "<li>"+processNarrative(oo.text.div)+"</li>";  
          } catch (err) {
            alert("System Error: "+textStatus+" (:"+err+")");
          }
        }
      });
    }
    catch (err)
    {
      alert("System Error: "+err);
    }
}

function deleteRow(control) {
  var row = control.parentNode.parentNode;
  if (confirm("Remove this entry?")) {
    row.parentNode.deleteRow(row.rowIndex);
    checkMaxCodeRows()
  }
}

function setRowId(row) {
  row.id = getRowId(row.cells[2].textContent, row.cells[3].textContent, row.cells[1].textContent);
}

function getRowId(system, code, display) {
  return system.trim()+"||"+code.trim()+"||"+display.trim().toUpperCase();
}

function addRow() {
  var selectionText = codeSelection.value;
  var addCode = (selectionText == selectedDisplay);
  if (addCode)
    var newRowId = getRowId(selectedSystem, selectedCode, selectedDisplay)
  else if (fhirCodeExtensible)
    var newRowId = getRowId("", "", selectionText)
  else
    return; // No code selected an not extensible binding
    
  var currentRow = document.getElementById(newRowId);

  if (currentRow != null) {
    alert("Already exists");
    return;
  }

  currentRow = selectionTable.insertRow(-1);
  currentRow.insertCell(0).innerHTML = removeGroupButton;
  // Todo: make the URL a variable
  var aCell = currentRow.insertCell(1);
  aCell.innerHTML = addCode ? selectedDisplay : selectionText;
  aCell.title = addCode ? selectedDefinition : "";
  if (addCode) {
    aCell = currentRow.insertCell(2);
    aCell.innerHTML = selectedSystem;
    aCell.style.fontSize="0px";
    aCell = currentRow.insertCell(3);
    aCell.innerHTML = selectedCode;
    aCell.style.fontSize="0px";
  } else {
    currentRow.insertCell(2).style.fontSize = "0px"
    currentRow.insertCell(3).style.fontSize = "0px"
  }
  setRowId(currentRow);
  checkMaxCodeRows();
}

function checkMaxCodeRows() {
  if ((fhirCodeMax == null || selectionTable.rows.length < fhirCodeMax)
  && fhirCodeMax != 1
  && codeSelection.value != "" 
  && (codeSelection.value == selectedDisplay || fhirCodeExtensible))
    addButton.style.display = "inherit"
  else
    addButton.style.display = "none";

  if (fhirCodeMax == 1) {
    if (codeSelection.value != ""
    && (codeSelection.value == selectedDisplay || fhirCodeExtensible))
      doneButton.style.display = "inherit"
    else
      doneButton.style.display = "none";
  } else
      doneButton.style.display = "inherit";
}

function commitCodes() {
  if (fhirCodeMax == 1) {
    for (var i=selectionTable.rows.length - 1; i >= 0; i=i-1) {
      selectionTable.deleteRow(i);
    }
    addRow();
  }

  var dataTable = selectionTable.cloneNode(true);
  for (var i = 0; i < dataTable.rows.length; i++) {
    dataTable.rows[i].removeAttribute("id");
  }
  var parent = fhirCodeSourceTable.parentNode;
  parent.removeChild(fhirCodeSourceTable);
  parent.insertBefore(dataTable, parent.children[0]);
  closeCodeSelect();
}

function closeCodeSelect() {
	document.getElementById("div-cnt").removeChild(document.getElementById("fhir-code-form"));
}
        --></script>
      <script type="text/javascript"><!--
var fhirReferenceMax = null;
var fhirReferenceSourceTable = null;
var fhirReferenceCount = 0;

var referenceTable;
var doneButton1;
var doneButton2;

function referenceBuildForm()
{
  var d = document.getElementById("fhir-reference-form");
  if (d == null)
  {
    d = document.createElement("div");
    d.id = "fhir-reference-form";
  }

  d.innerHTML = "<div id=\"fhir-reference-div\" style=\"overflow:hidden\"><span id=\"fhir-reference-label\">Resources:</span><div style=\"overflow:auto\">" +
    "<table id=\"fhir-reference-table\" style=\"border-style:solid;border-width:thin;\"><col span=\"2\"/>" +
    "<col style=\"width:0px;visibility:collapse;\"/><tbody> </tbody></table></div><table><tbody>" +
    "<tr><td><button onClick='cancelReference()'>Cancel</button></td><td>" +
    "<button id=\"fhir-reference-commit\" onClick='commitReferences()'>Apply</button></td></tr></tbody></table></div>";
  d.className = "fhir-code-form";
	document.getElementById("div-cnt").appendChild(d);
  $('.fhir-code-form').css('left', fhirReferenceSourceTable.offsetLeft+fhirReferenceSourceTable.offsetWidth);
  $('.fhir-code-form').css('top', fhirReferenceSourceTable.offsetTop+fhirReferenceSourceTable.offsetHeight);
}

function initReferenceLookup(query, label, sourceTable, max) {
  fhirReferenceQuery = query;
  fhirReferenceMax = max;
  fhirReferenceSourceTable = sourceTable

  referenceBuildForm();

  var inputLabel = document.getElementById("fhir-reference-label");
  referenceTable = document.getElementById("fhir-reference-table");
  doneButton = document.getElementById("fhir-reference-commit");

  if (max==1) {
    inputLabel.innerHTML=label + " (select one):"
    doneButton.style.display = "none";
    referenceControl = "<button title=\"Choose this resource\" onclick=\"chooseReference(this.parentNode.parentNode)\">Select</button>"
  } else {
    inputLabel.innerHTML=label + " (select one or more): "
    doneButton.style.display = "inherit";
    referenceControl = "<input type=\"checkbox\" title=\"Include this resource\" onchange=\"toggleReference(this)\"/>";
  }

  getReferences(query, referenceControl);
}

function toggleReference(control) {
  var row = control.parentNode.parentNode;
  if (control.checked) {
    if (fhirReferenceCount >= fhirReferenceMax) {
      control.checked = false;
      alert("Only " + fhirReferenceMax + " entries may be selected");
    } else {
      fhirReferenceCount++;
    }
  } else {
    fhirReferenceCount = fhirReferenceCount - 1;
  }
}

function displaySummaries(data, referenceControl)
{
  var source = "";
  var entries = data.entry;

  for (var i=referenceTable.rows.length - 1; i >= 0; i=i-1) {
    referenceTable.deleteRow(i);
  }

  var div = document.createElement("t");
  if (entries != null) {
    for (var i = 0; i < entries.length; i++) {
      row = referenceTable.insertRow(-1)
      var aCell = row.insertCell(0);
      aCell.innerHTML = referenceControl
      if (fhirReferenceMax != 1) {
        $.grep(fhirReferenceSourceTable.rows, function(aRow){
          if (aRow.cells[2].textContent == entries[i].id) {
            $(aCell).children("input:checkbox")[0].checked = true;
            fhirReferenceCount++;
          }
        });
      }
      aCell = row.insertCell(1);
      div.innerHTML = entries[i].summary;
      aCell.innerHTML = $(div).text();
      aCell = row.insertCell(2);
      aCell.innerHTML = entries[i].id;
      aCell.style.fontSize="0px";
    }
  }
  // Do I need to remove the created element somehow?
}

function getReferences(query, referenceControl)
{
    try
    {
      var uri = expansionUri+query;
      $.ajax({
        url: uri,
        cache: false,
        dataType: "json",
        success: function(data){
          displaySummaries(data, referenceControl);
        },
        error: function(jqXHR, textStatus, errorThrown){
          try {
            var oo = jQuery.parseJSON(jqXHR.responseText);
            referenceTable.insertRow(-1).insertCell(0).innerHTML = processNarrative(oo.text.div);  
          } catch (err) {
            alert("System Error: "+textStatus);
          }
        }
      });
    }
    catch (err)
    {
      alert("System Error: "+err);
    }
}

function clearSourceTable() {
  for (var i=fhirReferenceSourceTable.rows.length - 1; i >= 0; i=i-1) {
    fhirReferenceSourceTable.deleteRow(i);
  }  
}

function cancelReference() {
  closeReferenceSelect();
}

function chooseReference(row) {
  clearSourceTable()
  var sourceRow = fhirReferenceSourceTable.insertRow(0);
  var aCell = sourceRow.insertCell(0);
  aCell.innerHTML = removeInputButton;
  var aCell = sourceRow.insertCell(1);
  aCell.innerHTML = row.cells[1].innerHTML;
  var aCell = sourceRow.insertCell(2);
  aCell.innerHTML = row.cells[2].innerHTML;
  aCell.style.fontSize="0px";

  closeReferenceSelect();
}

function commitReferences() {
  clearSourceTable()

  var rowNum = 0;
  for (var i = 0; i < referenceTable.rows.length; i++) {
    if ($(referenceTable.rows[i].cells[0]).children("input:checkbox")[0].checked) {
      var sourceRow = fhirReferenceSourceTable.insertRow(rowNum);
      var aCell = sourceRow.insertCell(0);
      aCell.innerHTML = removeInputButton;
      var aCell = sourceRow.insertCell(1);
      aCell.innerHTML = referenceTable.rows[i].cells[1].innerHTML;
      var aCell = sourceRow.insertCell(2);
      aCell.innerHTML = referenceTable.rows[i].cells[2].innerHTML;
      aCell.style.fontSize="0px";
      rowNum++;
    }
  }

  closeReferenceSelect();
}

function closeReferenceSelect() {
	document.getElementById("div-cnt").removeChild(document.getElementById("fhir-reference-form"));
}
        --></script>
      <style type="">
      div.fhir-code-form {
       background-color: Lemonchiffon; 
       border-bottom: 1px solid #778899;
       border-right: 1px solid #778899;
       padding: 10px 10px 0px 10px;
       margin: 0px 0px 0px 0px;
       position: fixed;
       width: 520px;
       top: 0;
       left: 0;
       opacity: 1.0;
       z-order: 50;
      }
      div.fhir-code-form,div.fhir-reference-form {
       background-color: Lemonchiffon; 
       border-bottom: 1px solid #778899;
       border-right: 1px solid #778899;
       padding: 10px 10px 0px 10px;
       margin: 0px 0px 0px 0px;
       position: fixed;
       width: 520px;
       top: 0;
       left: 0;
       opacity: 1.0;
       z-order: 50;
      }
      .combo {position:relative;width:310px;text-align:left;padding:0;margin:0;}
      .combo * {padding:0;margin:0;}
      .combo label {display:block;float:left;width:92px;text-align:right;}
      .combo input {width:300px; height:1.5em;z-index:50;}
      .combo ul {padding:1px;border:2px solid #ccc;width: 600px;background-color:#fff;position:absolute;left:3px;top:1.8em;display:none;z-index:51;}
      .combo li {display:block; width: 100%;}
      </style>
      <script type="text/javascript"><!--
      //
      // Scripts for managing groups
      //
      function addGroup(groupId, button){
        group = document.getElementById(groupId)
        if (group.style.display=="none") {
          group.style.display="block"
        } else {
          newGroup = group.cloneNode(true)
          button.parentNode.insertBefore(newGroup, button)
          resetGroup(newGroup)
          //newGroup.getElementsByTagName("button")[2].style.display="inline"
        }
      }
      function deleteGroup(button){
        group = button.parentNode;
        if (group.id!="undefined") {
          group.style.display="none"
        } else {
          group.parentNode.removeChild(group)
        }
      }
      function addInput(button){
        var baseInput = button.nextElementSibling
        var rootPath = baseInput.nextElementSibling
        var occurrence = rootPath.nextElementSibling
        var max = occurrence.nextElementSibling
        var table = button.previousElementSibling
        // Todo: Check maximum (need to do this on deleteInput too)
        
        occurrence.innerHTML = parseInt(occurrence.innerHTML) + 1;
        var newInput = baseInput.cloneNode();
        newInput.setAttribute('name', rootPath.innerHTML + "[" + occurrence.innerHTML + "]");
        newInput.style.display = "inline";
        var row = table.insertRow(table.rows.length);
        row.insertCell(0).innerHTML = removeInputButton;
        row.insertCell(1).appendChild(newInput);
      }
      function deleteInput(button){
        var row = button.parentNode.parentNode;
        if (confirm("Remove this entry?")) {
          row.parentNode.deleteRow(row.rowIndex);
        }
      }
      function resetGroup(button){
        resetDiv(button.parentNode)
      }
      function resetDiv(div) {
        inputs = div.getElementsByTagName("input")
        for(i=0; i < inputs.length; i++) {
          if (inputs[i].default == "undefined") {
            inputs[i].value = ""
          } else {
            inputs[i].value = inputs[i].default
          }
        }
        textAreas = div.getElementsByTagName("textArea")
        for(i=0; i < textAreas.length; i++) {
          textAreas[i].value = ""
        }
        divs = div.getElementsByTagName("div")
        for(i=0; i < divs.length; i++) {
          resetDiv(divs[i])
        }
      }
      function checkDecimal(input) {
        if (input.value != '') {
          format = new RegExp("^([+-]?([1-9]\d*)|0)(\.\d+)?$")
          if (!format.test(input.value)) {
            input.focus()
            alert("Invalid decimal value")
          }
        }
      }
      function checkInteger(input) {
        if (input.value != '') {
          format = new RegExp("^[+-]?([1-9]\d*)|0$")
          if (!format.test(input.value)) {
            input.focus()
            alert("Invalid integer value")
          }
        }
      }
      function checkDate(input) {
        if (input.value != '') {
          checkDateValue(input.value, "^([1-9][0-9]{3}|0[0-9]{3})(-(0[1-9]|1[0-2])(-(0[1-9]|[12][0-9]|3[01]))?)?$", "Invalid date value - must be yyyy-mm-dd")
        }
      }
      function checkDateTime(input) {
        if (input.value != '') {
          checkDateValue(input.value, "^([1-9][0-9]{3}|0[0-9]{3})([-/](0[1-9]|1[0-2])([-/](0[1-9]|[12][0-9]|3[01])(\s+(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\.[0-9]+)?)(\s+(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?)?)?)?$", "Invalid date-time value - must be yyyy-mm-dd hh:mm:ss.sss +/-zz:zz")
        }
      }
      function checkTime(input) {
        if (input.value != '') {
          checkDateValue(input.value, "^([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\.[0-9]+)$", "Invalid time value - must be hh:mm:ss.sss")
        }
      }
      function checkInstant(input) {
        if (input.value != '') {
          checkDateValue(input.value, "^([1-9][0-9]{3}|0[0-9]{3})[/-](0[1-9]|1[0-2])[-/](0[1-9]|[12][0-9]|3[01])\s+(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\.[0-9]+)?)\s+(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)$", "Invalid date-time value - must be yyyy-mm-dd hh:mm:ss.sss +/-zz:zz")
        }
      }
      function checkDateValue(input, formatStr, message) {
        format = new RegExp(formatStr)
        if (input.value=='') {
          // do nothing

        } else if (!format.test(input.value)) {
          input.focus()
          alert(message)
          
        } else if (input.value.length > 7) {
          datePortion = input.value.substring(1,8)
          year = datePortion.split(/[/-]/)[0]
          month = datePortion.split(/[/-]/)[1]
          day = datePortion.split(/[/-]/)[2]
          date = new Date(year, month-1, day)
          if ((date.getMonth()+1!=month) || (date.getDate()!=day) || (date.getFullYear()!=year)) {
            input.focus()
            alert("Invalid date.")
          }
        }
      }
      --></script>
      <title>Form</title>
      <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
   </head>
   <body onload="loadAnswers()">
	<div id="segment-header" class="segment"><!-- segment-header -->	
		<div class="container"><!-- container -->
			<a id="logo" href="http://hl7.org/fhir"><img src="./assets/images/fhir-logo-www.png" alt="logo fhir"/> </a>
			<div id="hl7-status">
				<b>Continuous Integration Build</b>
			</div>       	
			
			<div id="hl7-nav">
				 <a id="hl7-logo" href="http://www.hl7.org">
					<img src="./assets/images/hl7-logo.png" width="42" height="50" alt="visit the hl7 website"/>
				</a> 
			</div>       	
			<!--hl7-search-->
		</div>
		<div class="container"><!-- container -->
	</div></div><!-- /segment-header -->	


	<div id="segment-navbar" class="segment"><!-- segment-navbar -->
		<div id="stripe"> </div>
		<div class="container"><!-- container -->
 <!-- HEADER CONTENT -->
 	      		
 	      		      		
			<nav class="navbar navbar-inverse">
				<div class="container">
					<button data-target=".navbar-inverse-collapse" data-toggle="collapse" class="navbar-toggle" type="button">
						<span class="icon-bar"> </span>
						<span class="icon-bar"> </span>
						<span class="icon-bar"> </span>
					</button>
					<a href="index.html" class="navbar-brand hidden">FHIR</a>
					<div class="nav-collapse collapse navbar-inverse-collapse">
						<ul class="nav navbar-nav">
              <li><a href="index.html">Home</a></li>
              <li><a href="documentation.html">Documentation</a></li>
              <li><a href="implementation.html">Implementation</a></li>
              <li><a href="resourcelist.html">Resources</a></li>
              <li><a href="clinical.html">Clinical</a></li>
              <li><a href="administration.html">Administrative</a></li>
              <li><a href="infrastructure.html">Infrastructure</a></li>
              <li><a href="financial.html">Financial</a></li>

						</ul>
					</div><!-- /.nav-collapse -->
				</div><!-- /.container -->
			</nav><!-- /.navbar -->
      		
				
<!-- /HEADER CONTENT -->				
		</div><!-- /container -->
	</div><!-- /segment-navbar -->
	

	<div id="segment-breadcrumb" class="segment"><!-- segment-breadcrumb -->
		<div class="container"><!-- container -->	
			<ul class="breadcrumb">
        <li><a href="index.html">Home</a></li>
        <li><a href="administration.html">Administrative</a></li>        <li><a href="person.html">Person</a></li>        <li><b>Generated Questionnaire</b></li>        <!-- person.questionnaire.html / resource-questionnaire:Person -->

			</ul>	
		</div><!-- /container -->
	</div><!-- /segment-breadcrumb -->
	

	<div id="segment-content" class="segment"><!-- segment-content -->
	<div class="container"><!-- container -->
            <div class="row">
            	<div class="inner-wrapper">
<!-- CONTENT CONTENT -->
<p>
This is an example form generated from the questionnaire. See also the <a href="person.questionnaire.xml.html">XML</a> or <a href="person.questionnaire.json.html">JSON</a> format
</p>
<div id="div-cnt">
         <h1> A generic person record</h1>
         <p>The Person resource does justice to Person registries that keep track of Persons regardless of their role. The Person resource is also a primary resource to point to for people acting in a particular role such as SubjectofCare, Practitioner, and Agent. Very few attributes are specific to any role and so Person is kept lean. Most attributes are expected to be tied to the role the Person plays rather than the Person himself. Examples of that are Guardian (SubjectofCare), ContactParty (SubjectOfCare, Practitioner), and multipleBirthInd (SubjectofCare).</p>
         <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
              id="d2e75">
            <span style="display:none">Person</span>
            <input type="image" onclick="deleteGroup(this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                   alt="Remove"
                   style="width:10px;height:10px;"/>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e93.1">
               <span style="display:none">Person.id</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
               <table>
                  <tbody>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.id.value</span> Logical id of this artefact</td>
                        <td>
                           <input name="Path:Person[1]Person.id[1]Person.id.value[1]" type="text"/>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e93.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.id</span>
            <span style="display:none">1</span>
            <h2> Metadata about the resource</h2>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e124.1">
               <span style="display:none">Person.meta</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
               <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                    id="d2e137.1.1">
                  <span style="display:none">Person.meta.id</span>
                  <input type="image" onclick="deleteGroup(this)"
                         src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                         alt="Remove"
                         style="width:10px;height:10px;"/>
                  <table>
                     <tbody>
                        <tr>
                           <td style="vertical-align:top;">
                              <span style="display:none;">Person.meta.id.value</span> xml:id (or equivalent in JSON)</td>
                           <td>
                              <input name="Path:Person[1]Person.meta[1]Person.meta.id[1]Person.meta.id.value[1]"
                                     type="text"/>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                      onclick="addGroup('d2e137.1.1', this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                      alt="Add section"/>
               <span style="display:none">Person.meta.id</span>
               <span style="display:none">1</span>
               <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                    id="d2e169.1.1">
                  <span style="display:none">Person.meta.versionId</span>
                  <input type="image" onclick="deleteGroup(this)"
                         src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                         alt="Remove"
                         style="width:10px;height:10px;"/>
                  <table>
                     <tbody>
                        <tr>
                           <td style="vertical-align:top;">
                              <span style="display:none;">Person.meta.versionId.value</span> Version specific identifier</td>
                           <td>
                              <input name="Path:Person[1]Person.meta[1]Person.meta.versionId[1]Person.meta.versionId.value[1]"
                                     type="text"/>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                      onclick="addGroup('d2e169.1.1', this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                      alt="Add section"/>
               <span style="display:none">Person.meta.versionId</span>
               <span style="display:none">1</span>
               <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                    id="d2e200.1.1">
                  <span style="display:none">Person.meta.lastUpdated</span>
                  <input type="image" onclick="deleteGroup(this)"
                         src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                         alt="Remove"
                         style="width:10px;height:10px;"/>
                  <table>
                     <tbody>
                        <tr>
                           <td style="vertical-align:top;">
                              <span style="display:none;">Person.meta.lastUpdated.value</span> When the resource version last changed</td>
                           <td>
                              <input name="Path:Person[1]Person.meta[1]Person.meta.lastUpdated[1]Person.meta.lastUpdated.value[1]"
                                     type="text"
                                     onblur="checkInstant(this)"
                                     maxlength="30"/>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                      onclick="addGroup('d2e200.1.1', this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                      alt="Add section"/>
               <span style="display:none">Person.meta.lastUpdated</span>
               <span style="display:none">1</span>
               <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                    id="d2e231.1.1">
                  <span style="display:none">Person.meta.profile</span>
                  <input type="image" onclick="deleteGroup(this)"
                         src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                         alt="Remove"
                         style="width:10px;height:10px;"/>
                  <table>
                     <tbody>
                        <tr>
                           <td style="vertical-align:top;">
                              <span style="display:none;">Person.meta.profile.value</span> Profiles this resource claims to conform to</td>
                           <td>
                              <input name="Path:Person[1]Person.meta[1]Person.meta.profile[1]Person.meta.profile.value[1]"
                                     type="text"/>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                      onclick="addGroup('d2e231.1.1', this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                      alt="Add section"/>
               <span style="display:none">Person.meta.profile</span>
               <span style="display:none">1</span>
               <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                    id="d2e262.1.1">
                  <span style="display:none">Person.meta.security</span>
                  <input type="image" onclick="deleteGroup(this)"
                         src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                         alt="Remove"
                         style="width:10px;height:10px;"/>
                  <table>
                     <tbody>
                        <tr>
                           <td style="vertical-align:top;">
                              <span style="display:none;">Person.meta.security.value</span> Security Labels applied to this resource</td>
                           <td/>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                      onclick="addGroup('d2e262.1.1', this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                      alt="Add section"/>
               <span style="display:none">Person.meta.security</span>
               <span style="display:none">1</span>
               <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                    id="d2e293.1.1">
                  <span style="display:none">Person.meta.tag</span>
                  <input type="image" onclick="deleteGroup(this)"
                         src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                         alt="Remove"
                         style="width:10px;height:10px;"/>
                  <table>
                     <tbody>
                        <tr>
                           <td style="vertical-align:top;">
                              <span style="display:none;">Person.meta.tag.value</span> Tags applied</td>
                           <td/>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                      onclick="addGroup('d2e293.1.1', this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                      alt="Add section"/>
               <span style="display:none">Person.meta.tag</span>
               <span style="display:none">1</span>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e124.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.meta</span>
            <span style="display:none">1</span>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e325.1">
               <span style="display:none">Person.implicitRules</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
               <table>
                  <tbody>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.implicitRules.value</span> A set of rules under which this content was created</td>
                        <td>
                           <input name="Path:Person[1]Person.implicitRules[1]Person.implicitRules.value[1]"
                                  type="text"/>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e325.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.implicitRules</span>
            <span style="display:none">1</span>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e356.1">
               <span style="display:none">Person.language</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
               <table>
                  <tbody>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.language.value</span> language</td>
                        <td/>
                     </tr>
                  </tbody>
               </table>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e356.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.language</span>
            <span style="display:none">1</span>
            <p>Text summary of the resource, for human interpretation</p>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e387.1">
               <span style="display:none">Person.text</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e387.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.text</span>
            <span style="display:none">1</span>
            <p>Contained, inline Resources</p>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e404.1">
               <span style="display:none">Person.contained</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e404.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.contained</span>
            <span style="display:none">1</span>
            <p>A Human identifier for this person</p>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e420.1">
               <span style="display:none">Person.identifier</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
               <table>
                  <tbody>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.identifier.label</span> label:</td>
                        <td>
                           <input name="Path:Person[1]Person.identifier[1]Person.identifier.label[1]" type="text"/>
                        </td>
                     </tr>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.identifier.system</span> system:</td>
                        <td>
                           <input name="Path:Person[1]Person.identifier[1]Person.identifier.system[1]"
                                  type="text"/>
                        </td>
                     </tr>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.identifier.value</span> value:</td>
                        <td>
                           <input name="Path:Person[1]Person.identifier[1]Person.identifier.value[1]" type="text"/>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e420.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.identifier</span>
            <span style="display:none">1</span>
            <p>A name associated with the person</p>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e475.1">
               <span style="display:none">Person.name</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
               <table>
                  <tbody>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.name.text</span> text:</td>
                        <td>
                           <input name="Path:Person[1]Person.name[1]Person.name.text[1]" type="text"/>
                        </td>
                     </tr>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.name.family</span> family:</td>
                        <td>
                           <table>
                              <tbody>
                                 <tr>
                                    <td>
                                       <input type="image" onclick="deleteInput(this)"
                                              src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                                              alt="Remove"
                                              style="width:10px;height:10px;"/>
                                    </td>
                                    <td>
                                       <input name="Path:Person[1]Person.name[1]Person.name.family[1]" type="text"/>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                           <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                                  onclick="addInput(this)"
                                  src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                                  alt="Add response"/>
                           <input type="text" style="display:none;"/>
                           <span style="display:none">Path:Person[1]Person.name[1]Person.name.family</span>
                           <span style="display:none">1</span>
                           <span style="display:none">*</span>
                        </td>
                     </tr>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.name.given</span> given:</td>
                        <td>
                           <table>
                              <tbody>
                                 <tr>
                                    <td>
                                       <input type="image" onclick="deleteInput(this)"
                                              src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                                              alt="Remove"
                                              style="width:10px;height:10px;"/>
                                    </td>
                                    <td>
                                       <input name="Path:Person[1]Person.name[1]Person.name.given[1]" type="text"/>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                           <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                                  onclick="addInput(this)"
                                  src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                                  alt="Add response"/>
                           <input type="text" style="display:none;"/>
                           <span style="display:none">Path:Person[1]Person.name[1]Person.name.given</span>
                           <span style="display:none">1</span>
                           <span style="display:none">*</span>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e475.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.name</span>
            <span style="display:none">1</span>
            <p>A contact detail for the person</p>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e534.1">
               <span style="display:none">Person.telecom</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
               <table>
                  <tbody>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.telecom.system</span> type:</td>
                        <td/>
                     </tr>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.telecom.value</span> value:</td>
                        <td>
                           <input name="Path:Person[1]Person.telecom[1]Person.telecom.value[1]" type="text"/>
                        </td>
                     </tr>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.telecom.use</span> use:</td>
                        <td/>
                     </tr>
                  </tbody>
               </table>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e534.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.telecom</span>
            <span style="display:none">1</span>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e589.1">
               <span style="display:none">Person.gender</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
               <table>
                  <tbody>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.gender.value</span> gender</td>
                        <td/>
                     </tr>
                  </tbody>
               </table>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e589.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.gender</span>
            <span style="display:none">1</span>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e620.1">
               <span style="display:none">Person.birthDate</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
               <table>
                  <tbody>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.birthDate.value</span> The birth date for the person</td>
                        <td>
                           <input name="Path:Person[1]Person.birthDate[1]Person.birthDate.value[1]" type="text"
                                  onblur="checkDateTime(this)"
                                  maxlength="26"/>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e620.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.birthDate</span>
            <span style="display:none">1</span>
            <p>One or more addresses for the person</p>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e652.1">
               <span style="display:none">Person.address</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
               <table>
                  <tbody>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.address.text</span> text:</td>
                        <td>
                           <input name="Path:Person[1]Person.address[1]Person.address.text[1]" type="text"/>
                        </td>
                     </tr>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.address.line</span> line:</td>
                        <td>
                           <table>
                              <tbody>
                                 <tr>
                                    <td>
                                       <input type="image" onclick="deleteInput(this)"
                                              src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                                              alt="Remove"
                                              style="width:10px;height:10px;"/>
                                    </td>
                                    <td>
                                       <input name="Path:Person[1]Person.address[1]Person.address.line[1]" type="text"/>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                           <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                                  onclick="addInput(this)"
                                  src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                                  alt="Add response"/>
                           <input type="text" style="display:none;"/>
                           <span style="display:none">Path:Person[1]Person.address[1]Person.address.line</span>
                           <span style="display:none">1</span>
                           <span style="display:none">*</span>
                        </td>
                     </tr>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.address.city</span> city:</td>
                        <td>
                           <input name="Path:Person[1]Person.address[1]Person.address.city[1]" type="text"/>
                        </td>
                     </tr>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.address.state</span> state:</td>
                        <td>
                           <input name="Path:Person[1]Person.address[1]Person.address.state[1]" type="text"/>
                        </td>
                     </tr>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.address.postalCode</span> post code:</td>
                        <td>
                           <input name="Path:Person[1]Person.address[1]Person.address.postalCode[1]" type="text"/>
                        </td>
                     </tr>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.address.country</span> country:</td>
                        <td>
                           <input name="Path:Person[1]Person.address[1]Person.address.country[1]" type="text"/>
                        </td>
                     </tr>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.address.use</span> use:</td>
                        <td/>
                     </tr>
                  </tbody>
               </table>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e652.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.address</span>
            <span style="display:none">1</span>
            <p>Image of the Person</p>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e754.1">
               <span style="display:none">Person.photo</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e754.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.photo</span>
            <span style="display:none">1</span>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e776.1">
               <span style="display:none">Person.managingOrganization</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
               <table>
                  <tbody>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.managingOrganization.value</span> The Organization that is the custodian of the person record</td>
                        <td>
                           <table style="table-layout:fixed;width=100%">
                              <col style="width:20px"/>
                              <col style="width:auto"/>
                              <col style="width:0px;visibility:collapse;"/>
                              <tbody/>
                           </table>
                           <button onclick="javascript:initReferenceLookup('/Organization?subject=$subj&amp;patient=$subj&amp;encounter=$encounter', 'The Organization that is the custodian of the person record', this.previousElementSibling, 1)">Edit</button>
                           <input name="Path:Person.managingOrganization.value" tabindex="text"/>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e776.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.managingOrganization</span>
            <span style="display:none">1</span>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e812.1">
               <span style="display:none">Person.active</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
               <table>
                  <tbody>
                     <tr>
                        <td style="vertical-align:top;">
                           <span style="display:none;">Person.active.value</span> This person's record is in active use</td>
                        <td>
                           <select name="Path:Person[1]Person.active[1]">
                              <option value="true">Yes</option>
                              <option value="false">No</option>
                           </select>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e812.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.active</span>
            <span style="display:none">1</span>
            <h2> Link to a resource that converns the same actual person</h2>
            <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                 id="d2e843.1">
               <span style="display:none">Person.link</span>
               <input type="image" onclick="deleteGroup(this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                      alt="Remove"
                      style="width:10px;height:10px;"/>
               <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                    id="d2e859.1.1">
                  <span style="display:none">Person.link.id</span>
                  <input type="image" onclick="deleteGroup(this)"
                         src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                         alt="Remove"
                         style="width:10px;height:10px;"/>
                  <table>
                     <tbody>
                        <tr>
                           <td style="vertical-align:top;">
                              <span style="display:none;">Person.link.id.value</span> xml:id (or equivalent in JSON)</td>
                           <td>
                              <input name="Path:Person[1]Person.link[1]Person.link.id[1]Person.link.id.value[1]"
                                     type="text"/>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                      onclick="addGroup('d2e859.1.1', this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                      alt="Add section"/>
               <span style="display:none">Person.link.id</span>
               <span style="display:none">1</span>
               <p>The resource to which this actual person is associated</p>
               <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                    id="d2e890.1.1">
                  <span style="display:none">Person.link.other</span>
                  <input type="image" onclick="deleteGroup(this)"
                         src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                         alt="Remove"
                         style="width:10px;height:10px;"/>
                  <table>
                     <tbody>
                        <tr>
                           <td style="vertical-align:top;">
                              <span style="display:none;">Person.link.other._type</span> type</td>
                           <td/>
                        </tr>
                     </tbody>
                  </table>
                  <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                       id="d2e924.1.1.1">
                     <span style="display:none">Person.link.other._Patient</span>
                     <input type="image" onclick="deleteGroup(this)"
                            src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                            alt="Remove"
                            style="width:10px;height:10px;"/>
                     <table>
                        <tbody>
                           <tr>
                              <td style="vertical-align:top;">
                                 <span style="display:none;">Person.link.other._Patient.value</span> Patient</td>
                              <td>
                                 <table style="table-layout:fixed;width=100%">
                                    <col style="width:20px"/>
                                    <col style="width:auto"/>
                                    <col style="width:0px;visibility:collapse;"/>
                                    <tbody/>
                                 </table>
                                 <button onclick="javascript:initReferenceLookup('/Patient?subject=$subj&amp;patient=$subj&amp;encounter=$encounter', 'Patient', this.previousElementSibling, 1)">Edit</button>
                                 <input name="Path:Person.link.other._Patient.value" tabindex="text"/>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                         onclick="addGroup('d2e924.1.1.1', this)"
                         src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                         alt="Add section"/>
                  <span style="display:none">Person.link.other._Patient</span>
                  <span style="display:none">1</span>
                  <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                       id="d2e952.1.1.1">
                     <span style="display:none">Person.link.other._Practitioner</span>
                     <input type="image" onclick="deleteGroup(this)"
                            src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                            alt="Remove"
                            style="width:10px;height:10px;"/>
                     <table>
                        <tbody>
                           <tr>
                              <td style="vertical-align:top;">
                                 <span style="display:none;">Person.link.other._Practitioner.value</span> Practitioner</td>
                              <td>
                                 <table style="table-layout:fixed;width=100%">
                                    <col style="width:20px"/>
                                    <col style="width:auto"/>
                                    <col style="width:0px;visibility:collapse;"/>
                                    <tbody/>
                                 </table>
                                 <button onclick="javascript:initReferenceLookup('/Practitioner?subject=$subj&amp;patient=$subj&amp;encounter=$encounter', 'Practitioner', this.previousElementSibling, 1)">Edit</button>
                                 <input name="Path:Person.link.other._Practitioner.value" tabindex="text"/>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                         onclick="addGroup('d2e952.1.1.1', this)"
                         src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                         alt="Add section"/>
                  <span style="display:none">Person.link.other._Practitioner</span>
                  <span style="display:none">1</span>
                  <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                       id="d2e980.1.1.1">
                     <span style="display:none">Person.link.other._RelatedPerson</span>
                     <input type="image" onclick="deleteGroup(this)"
                            src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                            alt="Remove"
                            style="width:10px;height:10px;"/>
                     <table>
                        <tbody>
                           <tr>
                              <td style="vertical-align:top;">
                                 <span style="display:none;">Person.link.other._RelatedPerson.value</span> RelatedPerson</td>
                              <td>
                                 <table style="table-layout:fixed;width=100%">
                                    <col style="width:20px"/>
                                    <col style="width:auto"/>
                                    <col style="width:0px;visibility:collapse;"/>
                                    <tbody/>
                                 </table>
                                 <button onclick="javascript:initReferenceLookup('/RelatedPerson?subject=$subj&amp;patient=$subj&amp;encounter=$encounter', 'RelatedPerson', this.previousElementSibling, 1)">Edit</button>
                                 <input name="Path:Person.link.other._RelatedPerson.value" tabindex="text"/>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                         onclick="addGroup('d2e980.1.1.1', this)"
                         src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                         alt="Add section"/>
                  <span style="display:none">Person.link.other._RelatedPerson</span>
                  <span style="display:none">1</span>
                  <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                       id="d2e1008.1.1.1">
                     <span style="display:none">Person.link.other._Person</span>
                     <input type="image" onclick="deleteGroup(this)"
                            src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                            alt="Remove"
                            style="width:10px;height:10px;"/>
                     <table>
                        <tbody>
                           <tr>
                              <td style="vertical-align:top;">
                                 <span style="display:none;">Person.link.other._Person.value</span> Person</td>
                              <td>
                                 <table style="table-layout:fixed;width=100%">
                                    <col style="width:20px"/>
                                    <col style="width:auto"/>
                                    <col style="width:0px;visibility:collapse;"/>
                                    <tbody/>
                                 </table>
                                 <button onclick="javascript:initReferenceLookup('/Person?subject=$subj&amp;patient=$subj&amp;encounter=$encounter', 'Person', this.previousElementSibling, 1)">Edit</button>
                                 <input name="Path:Person.link.other._Person.value" tabindex="text"/>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                         onclick="addGroup('d2e1008.1.1.1', this)"
                         src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                         alt="Add section"/>
                  <span style="display:none">Person.link.other._Person</span>
                  <span style="display:none">1</span>
               </div>
               <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                      onclick="addGroup('d2e890.1.1', this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                      alt="Add section"/>
               <span style="display:none">Person.link.other</span>
               <span style="display:none">1</span>
               <div style="display:block;margin:0.5em 2em;border-style:solid;border-width:1px;border-color:#A0A0A0;"
                    id="d2e1038.1.1">
                  <span style="display:none">Person.link.assurance</span>
                  <input type="image" onclick="deleteGroup(this)"
                         src="http://fhir-dev.healthintersections.com.au/html-form-delete.png"
                         alt="Remove"
                         style="width:10px;height:10px;"/>
                  <table>
                     <tbody>
                        <tr>
                           <td style="vertical-align:top;">
                              <span style="display:none;">Person.link.assurance.value</span> assurance</td>
                           <td/>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                      onclick="addGroup('d2e1038.1.1', this)"
                      src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                      alt="Add section"/>
               <span style="display:none">Person.link.assurance</span>
               <span style="display:none">1</span>
            </div>
            <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                   onclick="addGroup('d2e843.1', this)"
                   src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                   alt="Add section"/>
            <span style="display:none">Person.link</span>
            <span style="display:none">1</span>
         </div>
         <input style="margin:0em 2em;width:10px;height:10px;" type="image"
                onclick="addGroup('d2e75', this)"
                src="http://fhir-dev.healthintersections.com.au/html-form-add.png"
                alt="Add section"/>
         <span style="display:none">Person</span>
         <span style="display:none">1</span>
      </div>
      <table>
         <tbody>
            <tr>
               <td>
                  <button onclick="saveDraft()">Save as Draft</button>
               </td>
               <td>
                  <button onclick="saveFinal()">Save as Complete</button>
               </td>
            </tr>
         </tbody>
      </table>
      

				</div><!-- /inner-wrapper -->
            </div><!-- /row -->
        </div><!-- /container -->
        
    </div><!-- /segment-content -->


	<div id="segment-footer" class="segment"><!-- segment-footer -->
		<div class="container"><!-- container -->
			<div class="inner-wrapper">
				<p>
        © HL7.org 2011+. FHIR DSTU (v0.4.0-3920) generated on Tue, Dec 30, 2014 11:04+0000. <!-- <a href="qa.html">QA Report</a> --> <!-- achive note -->
        <br/>
        <span style="color: #FFFF77">
        Links: <a style="color: #81BEF7" href="timelines.html">What's a DSTU?</a> | 
               <a style="color: #81BEF7" href="history.html">Version History</a> | 
               <a style="color: #81BEF7" href="http://services.w3.org/htmldiff?doc1=http%3A%2F%2Fhl7.org%2Fimplement%2Fstandards%2Ffhir%2Fperson.questionnaire.html&amp;doc2=http%3A%2F%2Fhl7-fhir.github.io%2F%2Fperson.questionnaire.html">Compare to DSTU</a> | 
               <a style="color: #81BEF7" rel="license" href="license.html"><img src="cc0.png" style="border-style: none;" alt="CC0"/></a> | 
               <a style="color: #81BEF7" target="_blank" href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemAdd&amp;tracker_id=677">Propose a change</a>   
        </span>
        </p>
			</div><!-- /inner-wrapper -->
		</div><!-- /container -->
	</div><!-- /segment-footer -->
<!-- disqus thread -->
<!--disqus-->
<!-- end disqus -->        
	
	<div id="segment-post-footer" class="segment hidden"><!-- segment-post-footer -->
		<div class="container"><!-- container -->
		</div><!-- /container -->
	</div><!-- /segment-post-footer -->
    
    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="./assets/js/jquery.js"> </script>   <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
<script src="./dist/js/bootstrap.min.js"> </script>
<script src="./assets/js/respond.min.js"> </script>

<script src="./assets/js/fhir.js"> </script>

<!-- Analytics Below
================================================== -->

</body>
</html>

<p>
<!-- spacer -->
&nbsp;
</p>

</div>


				</div><!-- /inner-wrapper -->
            </div><!-- /row -->
        </div><!-- /container -->
        
    </div><!-- /segment-content -->


	<div id="segment-footer" class="segment"><!-- segment-footer -->
		<div class="container"><!-- container -->
			<div class="inner-wrapper">
				<p>
        © HL7.org 2011+. FHIR DSTU (v0.4.0-3920) generated on Tue, Dec 30, 2014 11:04+0000. <!-- <a href="qa.html">QA Report</a> --> <!-- achive note -->
        <br/>
        <span style="color: #FFFF77">
        Links: <a style="color: #81BEF7" href="timelines.html">What's a DSTU?</a> | 
               <a style="color: #81BEF7" href="history.html">Version History</a> | 
               <a style="color: #81BEF7" href="http://services.w3.org/htmldiff?doc1=http%3A%2F%2Fhl7.org%2Fimplement%2Fstandards%2Ffhir%2Fperson.questionnaire.html&amp;doc2=http%3A%2F%2Fhl7-fhir.github.io%2F%2Fperson.questionnaire.html">Compare to DSTU</a> | 
               <a style="color: #81BEF7" rel="license" href="license.html"><img src="cc0.png" style="border-style: none;" alt="CC0"/></a> | 
               <a style="color: #81BEF7" target="_blank" href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemAdd&amp;tracker_id=677">Propose a change</a>   
        </span>
        </p>
			</div><!-- /inner-wrapper -->
		</div><!-- /container -->
	</div><!-- /segment-footer -->
<!-- disqus thread -->
<!--disqus-->
<!-- end disqus -->        
	
	<div id="segment-post-footer" class="segment hidden"><!-- segment-post-footer -->
		<div class="container"><!-- container -->
		</div><!-- /container -->
	</div><!-- /segment-post-footer -->
    
    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="./assets/js/jquery.js"> </script>   <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
<script src="./dist/js/bootstrap.min.js"> </script>
<script src="./assets/js/respond.min.js"> </script>

<script src="./assets/js/fhir.js"> </script>

<!-- Analytics Below
================================================== -->

    
</body>
</html>
